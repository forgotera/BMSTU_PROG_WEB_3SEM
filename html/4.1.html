<!DOCTYPE html>
<html>
    <head>
        <title>4</title>
        <meta http-equiv="Content-Type" content="text/html;
            charset=utf-8" />
        <script>  
       function find(i,parent,space){

           var result;
           var stringspace='';
           for(var k = 0;k<space;k++)
               {
                   stringspace+="&nbsp"
               }

           console.log(space);
           if(parent.children.length != 0)
           {
               parent = parent.children[i]
             
                result = parent.tagName;
               console.log(result+i);
               
               document.getElementById("parent").innerHTML
                   +=stringspace+result+'<br>';
               space=space+1;
               //если потомков больше 1
               if (parent.children.length >i+1){
                   i++;
                   find(i,parent,space)
               }
               
               find(0,parent,space);
           }
       }
        </script>
    </head>
    <body>
        <div>
            <div> 
                <div>
                    <p>
                    </p>
                </div>
            </div>
            <div>
            </div>
        </div>
            <div id ="parent">
            <a href="#" onClick="find(0,document.body,0);">Вызов функции </a><br>
        </div>
    </body>
</html>